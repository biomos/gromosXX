set(ALGO_CC
    algorithm.cc
    create_md_sequence.cc
    algorithm/algorithm_sequence.cc
    integration/leap_frog.cc
    integration/scaled_leap_frog.cc
    integration/monte_carlo.cc
    integration/stochastic.cc
    temperature/temperature_calculation.cc
    temperature/thermostat.cc
    temperature/berendsen_thermostat.cc
    temperature/nosehoover_thermostat.cc
    pressure/pressure_calculation.cc
    pressure/berendsen_barostat.cc
    constraints/create_constraints.cc
    constraints/position_constraints.cc
    algorithm/algorithm_sequence.cc
    integration/leap_frog.cc
    integration/scaled_leap_frog.cc
    integration/monte_carlo.cc
    integration/stochastic.cc
    temperature/temperature_calculation.cc
    temperature/thermostat.cc
    temperature/berendsen_thermostat.cc
    temperature/nosehoover_thermostat.cc
    pressure/pressure_calculation.cc
    pressure/berendsen_barostat.cc
    constraints/create_constraints.cc
    constraints/position_constraints.cc
    constraints/remove_com_motion.cc
    constraints/shake.cc
    constraints/perturbed_shake.cc
    constraints/flexible_constraint.cc
    constraints/perturbed_flexible_constraint.cc
    constraints/lincs.cc
    constraints/settle.cc
    constraints/m_shake.cc
    constraints/gpu_shake.cc
    constraints/gpu_shake_thread.cc
    integration/energy_calculation.cc
    integration/slow_growth.cc
    integration/steepest_descent.cc
    integration/conjugate_gradient.cc
    integration/analyze.cc
    constraints/rottrans.cc
    integration/lattice_shift.cc
    integration/multigradient.cc
    integration/eds.cc
    integration/gamd.cc
    virtualatoms/prepare_virtualatoms.cc
    virtualatoms/propagate_forces.cc
)

set(ALGO_INCLUDE
    algorithm
    constraints
    integration
    pressure
    temperature
    virtualatoms
    ${PROJECT_BINARY_DIR}
    ${EXTERNAL_INCLUDES}
    ..
    ../interaction
    ../interaction/nonbonded
    ../interaction/nonbonded/pairlist
    ../interaction/nonbonded/interaction
    ../interaction/bonded
    ../interaction/forcefield
    ../interaction/special
)

if(CUKERNEL)
    set(ALGO_INCLUDE "${ALGO_INCLUDE} ../cukernel")
endif()

add_library(groalgorithm OBJECT ${ALGO_CC})

target_include_directories(groalgorithm PUBLIC ${ALGO_INCLUDE})
